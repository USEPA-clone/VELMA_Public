<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"><meta name="charset" content="utf-8"><link rel="stylesheet" type="text/css" href="/style.css"><title> </title></head><body class="bg-primary"><div class="header blue-base"><nav class="navbar blue-base navbar-expand"><a class="navbar-brand" href="/index.html">VELMA 2.2 HOME</a><ul class="navbar-nav no-bullets"><li class="nav-item"><a class="nav-link" href="/intro.html"><span>I. Intro</span></a></li><li class="nav-item"><a class="nav-link" href="/changes.html"><span>II. Changes from 1.0</span></a></li><li class="nav-item"><a class="nav-link" href="/about.html"><span>III. About</span></a></li><li class="nav-item"><a class="nav-link" href="/input_files.html"><span>IV. Input Files </span></a></li><li class="nav-item"><a class="nav-link" href="/new_sim_config.html"><span>V. Sim Config</span></a></li><li class="nav-item"><a class="nav-link" href="/parameter_config.html"><span>VI. Parameter Config</span></a></li><li class="nav-item dropdown">Appendicies<ul class="nav-dropdown blue-light"><li class="nav-item"><a class="nav-link" href="/appendix_1.html"><span>Appendix 1</span></a></li><li class="nav-item"><a class="nav-link" href="/appendix_2.html"><span>Appendix 2</span></a></li><li class="nav-item"><a class="nav-link" href="/appendix_3.html"><span>Appendix 3</span></a></li><li class="nav-item"><a class="nav-link" href="/appendix_4.html"><span>Appendix 4</span></a></li><li class="nav-item"><a class="nav-link" href="/appendix_5.html"><span>Appendix 5</span></a></li><li class="nav-item"><a class="nav-link" href="/appendix_6.html"><span>Appendix 6</span></a></li><li class="nav-item"><a class="nav-link" href="/appendix_7.html"><span>Appendix 7</span></a></li></ul></li><li class="nav-item dropdown">Supplemental <ul class="nav-dropdown blue-light"><li class="nav-item"><a class="nav-link" href="/supplement-a1.html"><span>Supplement A1</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-a2.html"><span>Supplement A2</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-a3.html"><span>Supplement A3</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-a4.html"><span>Supplement A4</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-b1.html"><span>Supplement B1</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-b2.html"><span>Supplement B2</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-b3.html"><span>Supplement B3</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-b4.html"><span>Supplement B4</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-b5.html"><span>Supplement B5</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-b6.html"><span>Supplement B6</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-b7.html"><span>Supplement B7</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-b8.html"><span>Supplement B8</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-b9.html"><span>Supplement B9</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-b10.html"><span>Supplement B10</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-c1.html"><span>Supplement C1</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-c2.html"><span>Supplement C2</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-c3.html"><span>Supplement C3</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-d1.html"><span>Supplement D1</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-d2.html"><span>Supplement D2</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-d3.html"><span>Supplement D3</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-d4.html"><span>Supplement D4</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-d5.html"><span>Supplement D5</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-d6.html"><span>Supplement D6</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-d7a.html"><span>Supplement D7a</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-d7b.html"><span>Supplement D7b</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-d8.html"><span>Supplement D8</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-d9.html"><span>Supplement D9</span></a></li><li class="nav-item"><a class="nav-link" href="/supplement-d10.html"><span>Supplement D10</span></a></li></ul></li><li class="nav-item dropdown"> <a class="nav-link" href="/dev_info.html"><span>Developer Info</span></a><ul class="nav-dropdown blue-light"><li class="nav-item"><a class="nav-link" href="/GetVelma_ForEclipse.html"><span>Clone Github to Local Machine</span></a></li><li class="nav-item"><a class="nav-link" href="/CellSpecificBurnDisturbance_Configuration_Guide.html"><span>Cell Specific Burn Disturbance Config Guide</span></a></li><li class="nav-item"><a class="nav-link" href="/Configuration_Checker_Guide.html"><span>Configuration Checker Guide</span></a></li><li class="nav-item"><a class="nav-link" href="/DefaultSedimentModel_Configuration_Guide.html"><span>Default Sediment Model Config Guide</span></a></li><li class="nav-item"><a class="nav-link" href="/ForestBurnLsrDisturbanceModel_Overview.html"><span>Forest Burn LSR Disturbance Model</span></a></li><li class="nav-item"><a class="nav-link" href="/JPDEM_ReachMapping_Demonstration.html"><span>JPDEM Reaching Mapping Demo</span></a></li><li class="nav-item"><a class="nav-link" href="/MinMaxAirT_WeatherDrivers.html"><span>Min Max Air Temp Weather Drivers</span></a></li><li class="nav-item"><a class="nav-link" href="/ModifySpatialDataByMap_Guide.html"><span>Modify Spatial Data by Map Guide</span></a></li><li class="nav-item"><a class="nav-link" href="/ObsRunoff_and_NaNs.html"><span>OBS Runnoff and NaNs</span></a></li><li class="nav-item"><a class="nav-link" href="/OrganicContaminant_Overview.html"><span>Organic Contaminant Overview</span></a></li><li class="nav-item"><a class="nav-link" href="/OrganicContaminant_Remediation_Configuration_Guide.html"><span>Organic Contaminant Redemption Config Guide</span></a></li><li class="nav-item"><a class="nav-link" href="/OrganicContaminant_Tracer_Configuration_Guide.html"><span>Organic Contaminant Tracter Config Guide</span></a></li><li class="nav-item"><a class="nav-link" href="/ReachSpecificObservedRunnoff.html"><span>Reach Specific Observed Runnoff</span></a></li><li class="nav-item"><a class="nav-link" href="/Sediment_Output_Data_Summary.html"><span>Sediment Output Data Summary</span></a></li><li class="nav-item"><a class="nav-link" href="/SnowDepth_Initialization_Guide.html"><span>Snow Depth Initialization Guide</span></a></li></ul></li><li class="nav-item dropdown"> <a class="nav-link" href="/dev_utils.html"><span>Developer Utils</span></a><ul class="nav-dropdown blue-light"><li class="nav-item"><a class="nav-link" href="/AscMapOct_Guide.html"><span>Ascii Map Oct Guide </span></a></li><li class="nav-item"><a class="nav-link" href="/AscRangeMask_Guide.html"><span>Ascii Range Mask Guide</span></a></li><li class="nav-item"><a class="nav-link" href="/MoeVelGenerator_Guide.html"><span>MOEA-to-VELMA Configuration Generator</span></a></li><li class="nav-item"><a class="nav-link" href="/NashSutcliffeCalculator_Guide.html"><span>Tool for Computing Nash-Sutcliffe Coefficients</span></a></li><li class="nav-item"><a class="nav-link" href="/NseQuarts_Guide.html"><span>NseQuarts Guide</span></a></li><li class="nav-item"><a class="nav-link" href="/VelmaSimRunner_QuickRef.html"><span>VelmaSimRunner Quick Reference</span></a></li><li class="nav-item"><a class="nav-link" href="/VelmaSimRunner.html"><span>VelmaSimRunner Full Guide</span></a></li></ul></li></ul></nav></div><div class="main_body container"><h1>E.6 | Groundwater Storage Mechanism</h1><div class="info blue-light-1"><p>Overview (Tutorial E.6_Groundwater Storage Box)</p><p>This document describes how to configure VELMA's groundwater storage mechanism, an optional method for simulating vertical drainage of excess (over saturation) water to a pool of deep groundwater. Drainage to groundwater only occurs when all the layers (1-4) in a cell's soil column are fully saturated.</p><p>When the groundwater storage mechanism is not invoked - for example when bedrock or other impermeable layer is present below layer 4 - no drainage to deep groundwater occurs and VELMA simulates upwelling of water within the saturated soil column to the surface.</p></div><h2>The VELMA simulator can handle over-saturation water amounts in two ways</h2><p>Due to its original model design, and by its default implementation, the VELMA Simulator behaves as if there is an impermeable bedrock layer underlying the bottom layer of each cell's soil column.</p><p>When all the layers in a cell's column are fully saturated, any additional water input on a given day "rebounds" up the water column to the surface of the cell, and - if the soil layer column is completely saturated -- becomes standing (i.e. surface) water for the cell.</p><p>However, the VELMA simulator also provides an alternate mechanism - the groundwater "storage box" - for handling water amounts over the fully-saturated amount a cell's soil column can contain.</p><p>When the groundwater storage mechanism is enabled (as part of a simulation's configuration) a specified fraction [0.0 to 1.0] of the excess water that reaches the bottom of a saturated soil column is removed from the column and accounted for in a single "storage box" amount accumulator. The remaining excess water "rebounds" up the soil column. The fraction of the excess water transferred to the 'storage box" is, in effect, removed from the watershed's water dynamics.</p><p>The amount of water transferred to the groundwater storage box is tracked and reported, but is <i>not</i> spatially explicit, and is not returnable to the watershed after it is transferred to the "box".</p><p>In effect, water in the storage box has been removed from the simulation system.</p><p>However, the fraction that the determines the amount of water transferred may be either global or spatially explicit. I.e. different groundwater fractions may be specified for each cell in the watershed.</p><p>In testing, enabling the groundwater storage mechanism has the general effects of reducing watershed total runoff, and "dampening" the reactivity of the day-to-day runoff relative to water input (precipitation, snow melt, etc.).</p><h3>Enabling the Groundwater Storage Mechanism</h3><p>The groundwater storage mechanism is enabled/disabled by the setGroundwaterStorageFraction parameter's value, which also specifies the global fraction or map of cell-specific fractions the mechanism employs.</p><p>The following table indicates the three types of values the parameter accepts:</p><table><thead><th>Value of setGroundwaterStorageFraction</th><th>Groundwater Mechanism Status and Behavior</th></thead><tr><td>Empty/blank</td><td>Inactivep No groundwater storage occurs.</td></tr><tr><td>Single numeric value in range [0, 1]</td><td>Activep Specified value is fraction used for every cell's groundwater calculation.</td></tr><tr><td>Filename of an .asc map containing values, each in range [0, 1]</td><td>Activep Specified map's values provide cell-specific fractions for groundwater calculations.</td></tr></table><p>To find and set the setGroundwaterStorageFraction parameter in JVelma:</p><ol> <li>Click the "All Parameters" tab.</li><li>Type the (case-sensitive) text setGroundwaterStorageFraction into the middle text- entry filter field.</li><li>Double-click the "Value" field of the setGroundwaterStorageFraction parameter row, and enter a value.</li></ol><img width="620" height="117" alt="screenshot" title="screenshot" src="public/suppImage_296.jpg"><p>To <i><b>disable </b></i>the groundwater storage mechanism set the setGroundwaterStorageFraction</p><p>paremeter's value to empty/blank.</p><p>(Note: The value 0.0 has the same effect, but use empty/blank, because this clearly signals "disable the groundwater mechanism" to the VELMA simulator.)</p><h3>Water "Lost" to the Groundwater Storage Box is Reported in Simulation Results</h3><p>When the enableGroundwaterStorageBox parameter is set to true, over-saturation water amounts are transferred to the storage box, and are effectively removed from the watershed. (Currently, there is no mechanism for reintroducing water transferred to the storage box back into the simulation.)</p><p>The VELMA simulator reports the groundwater storage amount in the following results:</p><ol> <li>In the simulation runtime log file. Usually named GlobalStateLog.txt (unless user-configured for a different name), the runtime log contains an entry reporting the total amount of water (in mm) transferred to (and thus accumulated in) the groundwater storage box over the course of the entire simulation. Here is an example of the output:  INFO 12:02:39 VelmaSimulatorEngine: Groundwater Storage true : storage amount=4.203496685912282E8</li><li>In the DailyResults.csv file. Simulation runs with enableGroundwaterStorageBox == true write the per-day amount of water to a column named Groundwater_Storage_Addition(mm/day). The amount is not an averaged-per-cell; it is the total amount of water in the storage box. To determine the addition (as opposed to the total) amount of water added to the storage box on a given day, subtract the given day's amount from the prior day's amount.</li><li>In Cell Data Writer .csv results files. If a groundwater storage-enabled simulation run also has one or more Cell Data Writers configured, each Cell Data Writer's results file will contain a column named Groundwater_Storage_Addition. This column reports (in mm) the amount of water transferred from to cell to groundwater storage, per day. The values are not cumulative. To determine the cumulative amount over a span of days, sum the amounts in this data column for the days in question.</li></ol></div></body><footer id="footer"><p>VELMA 2.2 DOCUMENTATION</p></footer></html>