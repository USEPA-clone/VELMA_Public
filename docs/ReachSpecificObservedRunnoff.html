<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width">
  <meta name="charset" content="utf-8">
  <link rel="stylesheet" type="text/css" href="/style.css">
  <title></title>

<body class="bg-primary">
  <div class="header blue-base">
    <nav class="navbar blue-base navbar-expand"><a class="navbar-brand" href="/index.html">VELMA 2.2 HOME</a>
      <ul class="navbar-nav no-bullets">
        <li class="nav-item"><a class="nav-link" href="/intro.html"><span>I. Intro</span></a></li>
        <li class="nav-item"><a class="nav-link" href="/changes.html"><span>II. Changes from 1.0</span></a></li>
        <li class="nav-item"><a class="nav-link" href="/about.html"><span>III. About</span></a></li>
        <li class="nav-item"><a class="nav-link" href="/input_files.html"><span>IV. Input Files </span></a></li>
        <li class="nav-item"><a class="nav-link" href="/new_sim_config.html"><span>V. Sim Config</span></a></li>
        <li class="nav-item"><a class="nav-link" href="/parameter_config.html"><span>VI. Parameter Config</span></a></li>
        <li class="nav-item dropdown">Appendicies<ul class="nav-dropdown blue-light">
            <li class="nav-item"><a class="nav-link" href="/appendix_1.html"><span>Appendix 1</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/appendix_2.html"><span>Appendix 2</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/appendix_3.html"><span>Appendix 3</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/appendix_4.html"><span>Appendix 4</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/appendix_5.html"><span>Appendix 5</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/appendix_6.html"><span>Appendix 6</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/appendix_7.html"><span>Appendix 7</span></a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">Supplemental <ul class="nav-dropdown blue-light">
            <li class="nav-item"><a class="nav-link" href="/supplement-a1.html"><span>Supplement A1</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-a2.html"><span>Supplement A2</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-a3.html"><span>Supplement A3</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-a4.html"><span>Supplement A4</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-b1.html"><span>Supplement B1</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-b2.html"><span>Supplement B2</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-b3.html"><span>Supplement B3</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-b4.html"><span>Supplement B4</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-b5.html"><span>Supplement B5</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-b6.html"><span>Supplement B6</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-b7.html"><span>Supplement B7</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-b8.html"><span>Supplement B8</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-b9.html"><span>Supplement B9</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-b10.html"><span>Supplement B10</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-c1.html"><span>Supplement C1</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-c2.html"><span>Supplement C2</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-c3.html"><span>Supplement C3</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-d1.html"><span>Supplement D1</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-d2.html"><span>Supplement D2</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-d3.html"><span>Supplement D3</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-d4.html"><span>Supplement D4</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-d5.html"><span>Supplement D5</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-d6.html"><span>Supplement D6</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-d7a.html"><span>Supplement D7a</span></a></li>
                        <li class="nav-item"><a class="nav-link" href="/supplement-d7b.html"><span>Supplement D7b</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-d8.html"><span>Supplement D8</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-d9.html"><span>Supplement D9</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/supplement-d10.html"><span>Supplement D10</span></a></li>
          </ul>
        </li>
        <li class="nav-item dropdown"> <a class="nav-link" href="/dev_info.html"><span>Developer Info</span></a>
          <ul class="nav-dropdown blue-light">
            <li class="nav-item"><a class="nav-link" href="/GetVelma_ForEclipse.html"><span>Clone Github to Local Machine</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/CellSpecificBurnDisturbance_Configuration_Guide.html"><span>Cell Specific Burn Disturbance Config Guide</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/Configuration_Checker_Guide.html"><span>Configuration Checker Guide</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/DefaultSedimentModel_Configuration_Guide.html"><span>Default Sediment Model Config Guide</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/ForestBurnLsrDisturbanceModel_Overview.html"><span>Forest Burn LSR Disturbance Model</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/JPDEM_ReachMapping_Demonstration.html"><span>JPDEM Reaching Mapping Demo</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/MinMaxAirT_WeatherDrivers.html"><span>Min Max Air Temp Weather Drivers</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/ModifySpatialDataByMap_Guide.html"><span>Modify Spatial Data by Map Guide</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/ObsRunoff_and_NaNs.html"><span>OBS Runnoff and NaNs</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/OrganicContaminant_Overview.html"><span>Organic Contaminant Overview</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/OrganicContaminant_Remediation_Configuration_Guide.html"><span>Organic Contaminant Redemption Config Guide</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/OrganicContaminant_Tracer_Configuration_Guide.html"><span>Organic Contaminant Tracter Config Guide</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/ReachSpecificObservedRunnoff.html"><span>Reach Specific Observed Runnoff</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/Sediment_Output_Data_Summary.html"><span>Sediment Output Data Summary</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/SnowDepth_Initialization_Guide.html"><span>Snow Depth Initialization Guide</span></a></li>
          </ul>
        </li>
        <li class="nav-item dropdown"> <a class="nav-link" href="/dev_utils.html"><span>Developer Utils</span></a>
          <ul class="nav-dropdown blue-light">
            <li class="nav-item"><a class="nav-link" href="/AscMapOct_Guide.html"><span>Ascii Map Oct Guide </span></a></li>
            <li class="nav-item"><a class="nav-link" href="/AscRangeMask_Guide.html"><span>Ascii Range Mask Guide</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/MoeVelGenerator_Guide.html"><span>MOEA-to-VELMA Configuration Generator</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/NashSutcliffeCalculator_Guide.html"><span>Tool for Computing Nash-Sutcliffe Coefficients</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/NseQuarts_Guide.html"><span>NseQuarts Guide</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/VelmaSimRunner_QuickRef.html"><span>VelmaSimRunner Quick Reference</span></a></li>
            <li class="nav-item"><a class="nav-link" href="/VelmaSimRunner.html"><span>VelmaSimRunner Full Guide</span></a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </div>
  <div class="main_body">
    <div class="container">
      <h1>Reach-Specific Observed Runoff Data for VelmaParallelCmdLine</h1>
      <h2>Overview</h2>
      <p>As of VELMA version 2.1.0.20, VelmaParallelCmdLine supports the optional <code>--obsRunoff=\&lt;file.csv\&gt;</code> argument.<br>
        Use this argument to specify a table of outlet locations and associated observed runoff data files.
        When VelmaParallelCmdLine launches the VELMA simulator for a sub-reach, if that sub-reach's outlet in in the table,
        the observed runoff data file is used as the sub-reach's <code>input_runoff</code>, instead of the file specified (or not specfied) in the simulation configuration .xml file passed into VelmaParallelCmdLine.</p>
      <p>Reach-Specific observed runoff data allows VelmaParallelCmdLine to compute accurate Nash-Sutcliffe Coefficients for the runoff of reach outlets other than the final reach outlet.</p>
      <h2>File Format and Requirements</h2>
      <p>If the file name specified by the <code>--obsRunoff</code> argument is not a fully-qualified path + name, then its location is assumed relative to the location where VelmaParallelCmdLine was invoked.</p>
      <p>The specified file must have the following characteristics:</p>
      <ul>
        <li><em>NO</em> header row.</li>
        <li>Exactly two columns per row, comma-separated.</li>
        <li>The first column must contain an integer value representing an outlet listed in the <code>initialReachOutlets</code> parameter of the Simulation Configuration <code>.xml</code> file passed to VelmaParallelCmdLine.</li>
        <li>The second column must contain a String value representing the name of a valid VELMA Observed Runoff data file.
          The specified file name will replace the <code>input_runoff</code> parameter when VelmaParallelCmdLine runs the reach outlet specified in the first column.
          The <code>input_runoff</code> parameter's naming rules apply:
          <ol>
            <li>Fully-qualified path + name files are accepted as-is.</li>
            <li>Partial path or filename-only files are assumed relative to the <code>inputDataLocationRootName/inputDataLocationDirName</code> parameter pair from the Simulation Configuration <code>.xml</code> file passed to VelmaParallelCmdLine.</li>
            <li>Use the forward-slash <code>/</code> as a path separator.</li>
          </ol>
        </li>
      </ul>
      <h2>Example</h2>
      <p>Here is an example <code>.csv</code> file, &quot;CustomObsRunnoff.csv&quot;:</p>
      <pre><code>388,C:/Users/Meep/obsQ_1969-2008.csv
346,./m_7_Observed/ReachObs/obsRunoff_i346_TestB_perfect.csv
254,Some_Other_obsRunoff.csv
987,C:/Users/Meep/obsQ_1969-2008.csv
</code></pre>
      <p>Suppose we invoke VelmaParallelCmdLine as follows:</p>
      <pre><code>C:\Users\Meep&gt; java -Xmx1g -cp C:\Users\Meep\JVelma.jar gov.epa.velmasimulator.VelmaParallelCmdLine C:\Users\Meep\XML\OR_BR_ws10.xml --obsRunoff=&quot;D:\Data Repository\CustomObsRunnoff.csv&quot; --maxProcesses=3
</code></pre>
      <p>As the command line above indicates the <code>.xml</code> file is &quot;OR_BR_ws10.xml&quot;.<br>
        Its <code>initialReachOutlets</code> parameter has this value:</p>
      <pre><code>388 321 346 251 254
</code></pre>
      <p>and that the input data parameter values are:</p>
      <pre><code>inputDataLocationRootName = D:/My_VELMA_Data/OR_BlueRiver_ws10
inputDataLocationDirName  = DataInputs
</code></pre>
      <p>and that the <code>input_runoff</code> value is unspecified (i.e. <em>blank</em>).</p>
      <p>When VelmaParallelCmdLine runs, it combines the data from the <code>.xml</code> and <code>.csv</code> files above, leading to the following as each reach is run:</p>
      <table>
        <thead>
          <tr>
            <th>Reach Outlet</th>
            <th>initial <code>input_runoff</code></th>
            <th>runtime <code>input_runoff</code></th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>388</td>
            <td><em>blank</em></td>
            <td>C:/Users/Meep/obsQ_1969-2008.csv</td>
          </tr>
          <tr>
            <td>321</td>
            <td><em>blank</em></td>
            <td><em>blank</em></td>
          </tr>
          <tr>
            <td>346</td>
            <td><em>blank</em></td>
            <td>D:/My_VELMA_Data/OR_BlueRiver_ws10/m_7_Observed/ReachObs/obsRunoff_i346_TestB_perfect.csv</td>
          </tr>
          <tr>
            <td>251</td>
            <td><em>blank</em></td>
            <td><em>blank</em></td>
          </tr>
          <tr>
            <td>254</td>
            <td><em>blank</em></td>
            <td>D:/My_VELMA_Data/OR_BlueRiver_ws10/Some_Other_obsRunoff.csv</td>
          </tr>
        </tbody>
      </table>
      <p>Outlet 987 is not in <code>initialReachOutlets</code>, and will be ignored at runtime.<br>
        <em>(That being said, it's better to exclude outlets that aren't in the <code>initialReachOutlets</code> list, simply to keep the contents as concise and clear as possible.)</em>
      </p>
      <p>An observed runoff data file name specified in the <code>--obsRunoff</code> argument that does not exist, or cannot be opened will cause that reach's simulation run to crash.<br>
        <em>(i.e. just what happens for the same circumstances for the <code>input_runoff</code> value -- because it <em>is</em> the <code>input_runoff</code> value.)</em>
      </p>

    </div>
  </div>
</body>
<footer id="footer">
  <p>VELMA 2.2 DOCUMENTATION</p>
</footer>
</head>

</html>